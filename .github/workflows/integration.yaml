name: ðŸ”„ Integration

on:
  pull_request:

jobs:
  line-ending-check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Check for missing newlines in changed files
        id: newline-check
        run: |
          changed_files=$(git diff --name-only ${{ github.event.pull_request.base.sha }} ${{ github.sha }})
          find "$changed_files" -type f -exec grep -q -m 1 '$' {} \; -print0 |
            xargs -0 -n 1 -t echo >> $GITHUB_STEP_SUMMARY
          
          if [ $? -ne 0 ]; then
            echo "ï¸ ì•„ëž˜ ë³€ê²½ëœ íŒŒì¼ë“¤ì— ê³µë°± ì¤„ì„ ì¶”ê°€í•´ì£¼ì„¸ìš”:" >> $GITHUB_STEP_SUMMARY
            exit 1
          fi